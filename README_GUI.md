# VideoAudio Batch Converter GUI

## 🎬 图形界面版本

这是 VideoAudio Batch Converter 的图形界面版本，提供直观易用的可视化操作界面。

## ✨ 功能特性

- 📂 **可视化目录选择**: 通过文件浏览器选择输入和输出目录
- 🎵 **格式选择**: 支持 MP3, WAV, AAC, M4A, OGG, FLAC 格式
- 🔊 **质量设置**: 64k - 320k 比特率选择
- 🧵 **多线程支持**: 1-16 线程并发处理
- 📊 **实时进度**: 双重进度条显示（总体进度 + 单文件实时进度）
- 📝 **转换日志**: 详细的转换过程记录
- ⏹️ **随时停止**: 可以随时中断转换过程
- 🔄 **重复检测**: 自动跳过重复文件

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动GUI
```bash
python run_gui.py
```

或者直接运行：
```bash
python video_audio_converter_gui.py
```

## 📖 使用说明

### 基本操作
1. **选择输入**: 
   - 点击"选择目录"按钮选择包含视频文件的文件夹
   - 或点击"选择文件"按钮选择单个视频文件
2. **选择输出目录**: 点击"浏览"按钮选择音频文件保存位置
3. **设置转换参数**:
   - 输出格式: 选择目标音频格式
   - 音频质量: 选择比特率
   - 并发线程: 设置同时处理的文件数量
4. **开始转换**: 点击"🎬 开始转换"按钮
5. **监控进度**: 
   - 查看总体进度条（显示整体完成情况）
   - 单文件转换时可看到实时转换进度和时间信息
   - 查看详细日志信息
6. **停止转换**: 如需中断，点击"⏹️ 停止转换"按钮

### 高级选项
- **📊 递归扫描子目录**: 勾选后会处理子文件夹中的视频
- **🔄 覆盖已存在文件**: 勾选后会覆盖同名的音频文件

### 性能建议
- **单线程 (1)**: 适合大文件或系统资源有限时
- **多线程 (2-4)**: 适合处理大量小文件
- **高并发 (4+)**: 适合高性能系统和SSD存储

## 🎯 界面预览

```
┌─────────────────────────────────────────────────────────────┐
│                🎬 VideoAudio Batch Converter                │
├─────────────────────────────────────────────────────────────┤
│ 📂 输入路径: [C:\Videos\video.mp4          ] [选择目录][选择文件] │
│ 📁 输出目录: [C:\Audio\                     ] [浏览]        │
├─────────────────────────────────────────────────────────────┤
│ 转换设置                                                    │
│ 🎵 输出格式: [MP3 ▼]  🔊 音频质量: [192k ▼]               │
│ 🧵 并发线程: [4    ]  ☑ 📊 递归扫描子目录                 │
│                      ☐ 🔄 覆盖已存在文件                   │
├─────────────────────────────────────────────────────────────┤
│        [🎬 开始转换] [⏹️ 停止转换] [🗑️ 清空日志]           │
│                                                             │
│ 转换进度                                                    │
│ 总体进度: ████████████████████████████████████████ 85%     │
│ 当前文件: ██████████████████████████████████████ 73%       │
│           转换进度: 73.2% - 02:15 / 03:05                  │
├─────────────────────────────────────────────────────────────┤
│ 转换日志                                                    │
│ ✅ 配置文件加载成功                                         │
│ 🔎 正在扫描视频文件...                                      │
│ 📋 找到 25 个视频文件                                       │
│ 📹 [1/25] video001.mp4                                     │
│ ✅ 转换成功: video001.mp3                                   │
│ ...                                                         │
└─────────────────────────────────────────────────────────────┘
```

## 🔧 配置文件

GUI会自动读取 `config.ini` 配置文件中的默认设置，包括：
- 默认输入/输出目录
- 音频格式和质量
- 线程数设置
- 其他选项

## ⚠️ 注意事项

1. **FFmpeg 依赖**: 确保系统已安装 FFmpeg
2. **文件权限**: 确保对输入和输出目录有读写权限
3. **磁盘空间**: 确保输出目录有足够的存储空间
4. **线程数量**: 过多线程可能导致系统卡顿，建议根据CPU核心数调整

## 🐛 故障排除

### 常见问题
1. **FFmpeg 不可用**: 
   - 检查 FFmpeg 是否正确安装
   - 确认 PATH 环境变量设置

2. **界面无响应**:
   - 检查是否有大量文件正在处理
   - 尝试减少并发线程数

3. **转换失败**:
   - 查看日志信息了解具体错误
   - 检查文件格式是否支持
   - 确认文件没有被其他程序占用

## 📞 技术支持

如遇问题，请查看转换日志中的详细错误信息，或参考命令行版本的文档。